# ... (بداية الكود كما هي)

# 1. تحميل البيانات
@st.cache_data
def load_data():
    try:
        # لاحظ التغيير هنا: read_excel بدلاً من read_csv
        # وتأكد أن اسم الملف هنا يطابق تماماً الاسم الذي رفعته على GitHub
        df = pd.read_excel("Smart_Lab_System_Full_Data.xlsx", engine='openpyxl')

        # التأكد من أن عمود التاريخ يقرأ كتاريخ وليس نص
        if 'Sample Date' in df.columns:
            df['Sample Date'] = pd.to_datetime(df['Sample Date']).dt.date

        return df
    except Exception as e:
        st.error(f"خطأ في قراءة الملف: {e}")
        return pd.DataFrame()

# ... (باقي الكود كما هو)
